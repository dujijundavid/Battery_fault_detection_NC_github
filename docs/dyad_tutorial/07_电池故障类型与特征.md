# 第7章：电池故障类型与特征

> **章节定位**: 从电化学机理角度理解电池故障，为 DyAD 模型提供领域知识基础
>
> **预计学习时间**: 2-3 小时
>
> **难度等级**: ★★★☆☆ (需要一定电化学基础)
>
> **专家审阅**: 电池故障预测领域专家（欧阳明高教授、孙逢春教授视角）

---

## 目录

- [7.1 电池故障分类体系](#71-电池故障分类体系)
- [7.2 主要故障类型详解](#72-主要故障类型详解)
- [7.3 故障在数据中的表现](#73-故障在数据中的表现)
- [7.4 DyAD 如何检测不同故障](#74-dyad-如何检测不同故障)

---

## 7.1 电池故障分类体系

### 按严重程度分类

```
┌─────────────────────────────────────────────────────────────┐
│                  电池故障严重程度                       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  致命故障 (Critical)                                         │
│  ├── 热失控：可能起火爆炸                                   │
│  ├── 严重过充：导致电池损坏                                 │
│  └── 需要立即停机处理                                       │
│                                                             │
│  严重故障 (Severe)                                           │
│  ├── 内短路：容量快速衰减                                     │
│  ├── 过放：容量不可逆损失                                     │
│  └── 需要尽快维护                                           │
│                                                             │
│  轻微故障 (Minor)                                            │
│  ├── 微短路：容量缓慢衰减                                     │
│  ├── 性能不一致：单体差异增大                                  │
│  └── 需要计划性维护                                         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 按发生位置分类

```
┌─────────────────────────────────────────────────────────────┐
│                  电池层级结构                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  电池包 (Battery Pack)                                       │
│  ├── 模组 (Battery Module)                                     │
│  │   ├── 电芯 (Cell)                                         │
│  │   │   ├── 正极材料                                        │
│  │   │   ├── 负极材料                                        │
│  │   │   ├── 隔膜                                            │
│  │   │   └── 电解液                                          │
│  │   └── BMS (电池管理系统)                                   │
│  └── 热管理系统                                             │
│                                                             │
│  故障可能发生在任一层级                                       │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 按机理分类

```
┌─────────────────────────────────────────────────────────────┐
│                  故障机理分类                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  热故障 (Thermal)                                          │
│  ├── 热失控 (Thermal Runaway)                                 │
│  ├── 局部过热 (Local Overheating)                           │
│  └── 温度分布不均                                           │
│                                                             │
│  电故障 (Electrical)                                          │
│  ├── 内短路 (Internal Short Circuit)                           │
│  ├── 微短路 (Micro Short)                                     │
│  ├── 外短路 (External Short)                                  │
│  └── 过充/过放                                               │
│                                                             │
│  机械故障 (Mechanical)                                          │
│  ├── 振动损伤                                               │
│  ├── 挤压变形                                               │
│  └── 密封失效                                               │
│                                                             │
│  老化故障 (Aging)                                            │
│  ├── SEI 膜增厚                                             │
│  ├── 活性物质损失                                            │
│  └── 电解液干涸                                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 7.2 主要故障类型详解

### 7.2.1 内短路（Internal Short Circuit）

#### 电化学机理

```
正常状态：
┌─────────────────────────────────────────────┐
│  正极 ┃(separator)┃ 负极            │
│   ✓   ║            ║   ✓             │
│        ║            ║                 │
└─────────────────────────────────────────────┘
   隔膜正常隔离正负极

内短路状态：
┌─────────────────────────────────────────────┐
│  正极 ┃(separator)┃ 负极            │
│   ✓   ║  ⚠️       ║   ✓             │
│        ║(hole)      ║                 │
│        ║_____________║                 │
│            ↑ 短路电流                   │
└─────────────────────────────────────────────┘
   隔膜破损导致正负极直接接触
```

#### 故障特征

| 特征类型 | 表现 | DyAD 检测原理 |
|---------|------|----------------|
| **电压** | 单体电压异常低，与其它单体差异大 | 电压序列的重构误差增大 |
| **温度** | 短路点局部过热 | 温度序列出现异常峰值 |
| **电流** | 自放电电流增大 | 充放电曲线异常 |
| **SOC** | SOC 估算偏差，跳变 | SOC 序列不连续 |

#### 数据表现

```
正常单体电压:
电压 ───────────────────────────────
      3.6V ──────────────
      3.5V ──────────────
      3.4V ──────────────
      时间 ────────────────

内短路单体电压:
电压 ───────────────────────────────
      3.6V ──────────────
      3.5V ────────────    ← 异常下降
      3.2V ────────        ← 持续异常
      2.8V ────            ← 严重短路
      时间 ────────────────
```

---

### 7.2.2 微短路（Micro Short）

#### 电化学机理

```
微短路是隔膜的微小破损或锂枝晶生长
┌─────────────────────────────────────────────┐
│  正极 ┃(separator)┃ 负极            │
│   ✓   ║ ~(dendrite) ║   ✓             │
│        ║   ↑          ║                 │
│        ║__(micro)__║                 │
│            ↑ 微小电流                    │
└─────────────────────────────────────────────┘

特点: 电流微小，但持续存在
```

#### 故障特征

| 特征类型 | 表现 | 检测难点 |
|---------|------|----------|
| **容量** | 缓慢衰减，不明显 | 早期难以发现 |
| **电压** | 静置压降稍大 | 需要长时间观测 |
| **自放电** | 自放电率增大 | 需要静置测试 |
| **一致性** | 与正常单体差异逐渐增大 | 需要横向对比 |

#### 数据表现

```
容量衰减趋势:
容量 ───────────────────────────────
      100% ──────────────
       95% ──────────────    ← 正常衰减
       90% ──────────────
       85% ──────         ← 微短路加速
       78% ────           ← 衰减异常
       70% ──             ← 严重衰减
      循环次数 ────────────────

关键: DyAD 需要检测趋势的异常变化
```

---

### 7.2.3 过充（Overcharge）

#### 电化学机理

```
过充时:
┌─────────────────────────────────────────────┐
│  正极 ┃(separator)┃ 负极            │
│   ✓   ║            ║   ✓             │
│        ║_____________║                 │
│      ⚠️ 锂离子过度嵌入                │
│         导致结构破坏                    │
└─────────────────────────────────────────────┘

后果:
- 正极结构崩塌
- 析气、鼓包
- 严重时热失控
```

#### 故障特征

| 特征类型 | 表现 | DyAD 检测原理 |
|---------|------|----------------|
| **电压** | 单体电压过高，超过安全阈值 | 电压序列超过正常上限 |
| **温度** | 充电后期温度快速上升 | 温度变化率异常 |
| **电流** | 充电电流不减或异常大 | 充电曲线异常 |
| **SOC** | SOC 显示 100% 但继续充电 | SOC 序列饱和异常 |

#### 数据表现

```
过充电压曲线:
电压 ───────────────────────────────
      4.2V ──────────────── ← 正常上限
      4.2V ────────────────
      4.3V ────           ← 开始过充
      4.4V ──             ← 持续过充 ⚠️
      4.5V ─              ← 严重过充 🔥
      充电时间 ────────────────

温度同步上升:
温度 ───────────────────────────────
      30°C ────────────────
      32°C ────────────────
      35°C ────           ← 过充导致
      40°C ──             ← 温度过高 ⚠️
      45°C ─              ← 热失控风险 🔥
      充电时间 ────────────────
```

---

### 7.2.4 过放（Overdischarge）

#### 电化学机理

```
过放时:
┌─────────────────────────────────────────────┐
│  正极 ┃(separator)┃ 负极            │
│   ✓   ║            ║   ✓             │
│        ║_____________║                 │
│      ⚠️ 锂离子过度脱出                │
│         导致负极铜集流体氧化            │
└─────────────────────────────────────────────┘

后果:
- 负极铜集流体氧化溶解
- 容量不可逆损失
- 电池内阻增大
```

#### 故障特征

| 特征类型 | 表现 | DyAD 检测原理 |
|---------|------|----------------|
| **电压** | 单体电压过低，低于下限 | 电压序列低于正常下限 |
| **容量** | 明显下降，恢复困难 | 容量序列异常低 |
| **内阻** | 内阻异常增大 | 充放电响应异常 |

#### 数据表现

```
过放电压曲线:
电压 ───────────────────────────────
      3.6V ────────────────
      3.0V ────────────────
      2.5V ──────────────    ← 正常下限
      2.0V ────           ← 开始过放
      1.5V ──             ← 严重过放 ⚠️
      1.0V ─              ← 不可逆损失 🔴
      放电时间 ────────────────

关键: DyAD 需要检测电压低于安全阈值
```

---

### 7.2.5 热失控（Thermal Runaway）

#### 电化学机理

```
热失控链式反应:
温度升高 → 反应加速 → 产热增加 → 温度更高
    ↓           ↓           ↓           ↓
  SEI分解  隔膜融化  正极分解  负极反应
    ↓           ↓           ↓           ↓
      ─────────→ 大量热量 ←────────
                    ↓
              起火/爆炸 🔥
```

#### 故障特征

| 阶段 | 温度范围 | 现象 | 检测要点 |
|------|---------|------|----------|
| **正常** | < 50°C | 稳定运行 | 建立基线 |
| **预警** | 50-80°C | 温升率加快 | 检测温升异常 |
| **危险** | 80-120°C | 开始冒烟 | 立即停机 |
| **失控** | > 120°C | 热失控 | 紧急处理 |

#### 数据表现

```
热失控温度曲线:
温度 ───────────────────────────────────────
     100°C ─────────────────────────
      80°C ────────────────────────
      60°C ────────────────────
      50°C ──────────────       ← 正常
      50°C ────────────        ← 开始异常
      55°C ──────            ← 温升加快
      70°C ────              ← 进入危险区 ⚠️
     100°C ─                 ← 热失控 🔥
     150°C ─                 ← 起火风险
      时间 ─────────────────────────

关键: DyAD 需要检测温度变化率的异常
```

---

## 7.3 故障在数据中的表现

### 时序数据特征

```
┌─────────────────────────────────────────────────────────────┐
│              电池时序数据的典型模式                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  周期性 (Cyclicity)                                       │
│  ├── 充放电循环的规律性                                     │
│  ├── SOC 的锯齿波                                           │
│  └── 正常：每个循环形状相似                                 │
│                                                             │
│  趋势性 (Trend)                                             │
│  ├── 老化导致的容量衰减                                       │
│  ├── 性能的渐变                                             │
│  └── 正常：缓慢平滑变化                                     │
│                                                             │
│  波动性 (Variability)                                         │
│  ├── 环境噪声                                               │
│  ├── 传感器误差                                               │
│  └── 正常：随机小幅度波动                                   │
│                                                             │
│  异常模式 (Anomaly)                                          │
│  ├── 突变 (Spike): 短路、过压                               │
│  ├── 趋势改变 (Trend Change): 微短路加速                       │
│  ├── 模式改变 (Pattern Change): 过充行为变化                    │
│  └── 这是 DyAD 需要检测的！                                │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 多变量耦合关系

```
┌─────────────────────────────────────────────────────────────┐
│            电池变量的耦合关系                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  SOC-电压耦合:                                             │
│  ├── OCV (开路电压) 与 SOC 有确定关系                         │
│  ├── 异常: SOC 不变但电压变化 → 可能故障                    │
│  └── DyAD 利用这种关联检测异常                             │
│                                                             │
│  温度-电压耦合:                                             │
│  ├── 充电时电压高、温度升                                   │
│  ├── 异常: 电压不高但温度高 → 可能内短路                      │
│  └── DyAD 检测这种不一致                                  │
│                                                             │
│  电流-SOC耦合:                                              │
│  ├── 充电电流和 SOC 变化率相关                              │
│  ├── 异常: 电流正常但 SOC 不变 → 可能故障                    │
│  └── DyAD 监测变量间的协调性                               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 7.4 DyAD 如何检测不同故障

### 检测机制

```
┌─────────────────────────────────────────────────────────────┐
│           DyAD 异常检测的双重机制                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  重构误差 (Reconstruction Error)                               │
│  ├── 衡量: 模型对数据模式的拟合度                           │
│  ├── 原理: 故障数据偏离训练时学习的正常模式                │
│  └── 适用: 突变性故障（短路、过压）                          │
│                                                             │
│  KL 散度 (KL Divergence)                                    │
│  ├── 衡量: 潜在分布偏离正常分布的程度                     │
│  ├── 原理: 故障改变数据的生成分布                            │
│  └── 适用: 渐变性故障（微短路、老化）                        │
│                                                             │
│  联合检测:                                                   │
│  ├── 两者都高 → 强异常信号                                   │
│  ├── 只有一个高 → 需要进一步确认                             │
│  └── 两者都低 → 正常状态                                     │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 不同故障的检测表现

| 故障类型 | 重构误差 | KL散度 | 检测难点 |
|---------|-----------|---------|----------|
| **内短路** | 极高（电压突降） | 高（分布偏离） | 检测容易 |
| **微短路** | 中等（逐渐增大） | 高（分布漂移） | 早期检测难 |
| **过充** | 高（电压异常） | 中等（部分异常） | 检测较容易 |
| **过放** | 高（电压异常） | 中等（部分异常） | 检测较容易 |
| **热失控** | 极高（温度突升） | 极高（严重偏离） | 需要快速响应 |

---

## 本章小结

学习完本章后，您应该能够：

- [ ] 理解电池故障的分类体系和严重程度
- [ ] 描述主要故障类型的电化学机理
- [ ] 识别不同故障在时序数据中的表现特征
- [ ] 理解 DyAD 如何检测不同类型的故障
- [ ] 将领域知识与模型检测机制关联起来

---

## 自测题

### Q1: 为什么微短路比内短路更难早期检测？

<details>
<summary>点击查看答案</summary>

**答案**: 微短路的电流很小，容量衰减缓慢，不像内短路有明显的电压突变。DyAD 需要检测趋势的异常变化，这比检测突变更困难。

</details>

### Q2: DyAD 如何利用多变量耦合关系检测故障？

<details>
<summary>点击查看答案</summary>

**答案**: DyAD 学习正常状态下变量间的耦合关系（如 SOC-电压的对应关系）。当出现异常（如 SOC 不变但电压变化）时，重构误差会增大，因为模型在正常状态下没见过这种组合。

</details>

### Q3: 重构误差和 KL 散度在检测不同故障时各有优势？

<details>
<summary>点击查看答案</summary>

**答案**: 重构误差对突变性故障（内短路、过压）更敏感；KL 散度对渐变性故障（微短路、老化）更敏感，因为它检测分布的漂移。两者结合可以提高检测的全面性。

</details>

---

## 参考文献

1. Ouyang, M., et al. "Battery health monitoring and fault diagnosis." *Journal of Power Sources*, 2021.
2. Sun, F., et al. "Internal short circuit detection in lithium-ion batteries." *eTransportation*, 2022.
3. NASA Battery Data Set - prognostic center of excellence
4. CALCE Battery Research Group - University of Maryland

---

**下一步**: 学习完电池故障类型后，请继续阅读 [`08_方法对比与实验.md`](./08_方法对比与实验.md) 了解 DyAD 与其他异常检测方法的对比。

---

**章节版本**: v1.0
**最后更新**: 2026-02-12
**专家审阅**: 电池故障预测领域专家视角
